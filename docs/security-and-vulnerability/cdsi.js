/*
  CDSI test script (benign).
  Purpose: confirm that a page is including cross-domain scripts.
  This does not exfiltrate data or alter state beyond a test marker.
*/

(function () {
  const marker = {
    name: 'CDSI_TEST',
    loadedAt: new Date().toISOString(),
    src: (document.currentScript && document.currentScript.src) || 'inline'
  }

  // Expose a simple marker for detection in the page context.
  window.CDSI_TEST = marker

  // Optional: dispatch a custom event for automated test harnesses.
  try {
    window.dispatchEvent(new CustomEvent('cdsi-test-loaded', { detail: marker }))
  } catch (e) {
    // Ignore if CustomEvent is unavailable
  }

  // Minimal, visible signal in DevTools console
  if (typeof console !== 'undefined' && console.info) {
    console.info('[CDSI_TEST] Loaded', marker)
  }
})()
